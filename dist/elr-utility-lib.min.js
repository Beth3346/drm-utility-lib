!function($){$.extend($.expr[":"],{containsNC:function(elem,i,match){return(elem.textContent||elem.innerText||"").toLowerCase().indexOf((match[3]||"").toLowerCase())>=0}}),elrUtilities=function(){var self={};return self.patterns={numeral:new RegExp("[0-9]+"),alphaLower:new RegExp("[a-z]+"),alphaUpper:new RegExp("[A-Z]+"),specialCharacters:new RegExp("[^a-zA-Z0-9_]"),allNumbers:new RegExp("^[0-9]*$"),allAlphaLower:new RegExp("^[a-z]*$"),allAlphaUpper:new RegExp("^[A-Z]*$"),allSpecialCharacters:new RegExp("^[^a-zA-Z0-9_]*$"),hour:new RegExp("^(\\d+)"),minute:new RegExp(":(\\d+)"),ampm:new RegExp("(am|pm|AM|PM)$"),integer:new RegExp("(^\\-?\\d*$)|(^\\-?\\d*(,\\d{3})*$)"),number:new RegExp("^(?:\\-?\\d+|\\d*)(?:\\.?\\d+|\\d)$"),url:new RegExp("^https?:\\/\\/[\\da-z\\.\\-]+[\\.a-z]{2,6}[\\/\\w/.\\-]*\\/?$","i"),email:new RegExp("^[a-z][a-z\\-\\_\\.\\d]*@[a-z\\-\\_\\.\\d]*\\.[a-z]{2,6}$","i"),zip:new RegExp("^[0-9]{5}-[0-9]{4}$|^[0-9]{5}$"),phone:new RegExp("^\\(?\\d{3}[\\)\\-\\.]?[\\s]?\\d{3}[\\-\\.]?\\d{4}(?:[xX]\\d+)?$","i"),fullName:new RegExp("^[a-z]+ [a-z\\.\\- ]+$","i"),alpha:new RegExp("[a-z]*","i"),allAlpha:new RegExp("^[a-z\\-\\s]*$","i"),alphaNum:new RegExp("^[a-z\\d ]*$","i"),noSpaces:new RegExp("^[\\S]*$","i"),alphaNumDash:new RegExp("^[a-z\\d- ]*$","i"),alphaNumUnderscore:new RegExp("^[a-z\\d_]*$","i"),noTags:new RegExp("<[a-z]+.*>.*</[a-z]+>","i"),monthDayYear:new RegExp("^(?:[0]?[1-9]|[1][012]|[1-9])[-/.](?:[0]?[1-9]|[12][0-9]|[3][01])[-/.][0-9]{4}$"),time:new RegExp("^(?:[12][012]:|[0]?[0-9]:)[012345][0-9](?:/:[012345][0-9])?(?:am|pm)$","i"),creditCard:new RegExp("^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\\d{3})\\d{11})$"),cvv:new RegExp("^[0-9]{3,4}$"),longDate:new RegExp("^(?:[a-z]*[\\.,]?\\s)?[a-z]*\\.?\\s(?:[3][01],?\\s|[012][1-9],?\\s|[1-9],?\\s)[0-9]{4}$","i"),shortDate:new RegExp("((?:[0]?[1-9]|[1][012]|[1-9])[-/.](?:[0]?[1-9]|[12][0-9]|[3][01])[-/.][0-9]{4})"),longTime:new RegExp("((?:[12][012]:|[0]?[0-9]:)[012345][0-9](?:\\:[012345][0-9])?(?:am|pm)?)","i"),longMonth:new RegExp("^(?:[a-zA-Z]*[\\.,]?\\s)?[a-zA-Z]*"),dateNumber:new RegExp("[\\s/\\-\\.](?:([3][01]),?[\\s/\\-\\.]?|([012][1-9]),?[\\s/\\-\\.]?|([1-9]),?[\\s/\\-\\.]?)"),year:new RegExp("([0-9]{4})"),dateKeywords:new RegExp("^(yesterday|today|tomorrow)","i"),timeKeywords:new RegExp("^(noon|midnight)","i"),singleSpace:new RegExp("\\s"),sortNumber:new RegExp("^(?:\\-?\\d+|\\d*)(?:\\.?\\d+|\\d)"),sortMonthDayYear:new RegExp("^(?:[0]?[1-9]|[1][012]|[1-9])[-/.](?:[0]?[1-9]|[12][0-9]|[3][01])[-/.][0-9]{4}"),sortTime:new RegExp("^(?:[12][012]:|[0]?[0-9]:)[012345][0-9](?:/:[012345][0-9])?(?:am|pm|AM|PM)","i")},self.dataTypeChecks={isDate:function(value){return self.patterns.sortMonthDayYear.test(value)?!0:!1},isNumber:function(value){return self.patterns.sortNumber.test(value)?!0:!1},isAlpha:function(value){return self.patterns.alpha.test(value)?!0:!1},isTime:function(value){return self.patterns.sortTime.test(value)?!0:!1}},self.getDataTypes=function(values,type){var that=this,types=[];return type=type||null,type?types.push(type):$.each(values,function(k,v){return""!==v?self.dataTypeChecks.isDate.call(that,v)?types.push("date"):self.dataTypeChecks.isTime.call(that,v)?types.push("time"):self.dataTypeChecks.isNumber.call(that,v)?types.push("number"):self.dataTypeChecks.isAlpha.call(that,v)?types.push("alpha"):void 0:void 0}),$.unique(types)},self.generateRandomString=function(length,charset){var str="";length=length||10,charset=charset||"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(var i=0,n=charset.length;length>i;i++)str+=charset.charAt(Math.floor(Math.random()*n));return str},self.checkBlacklist=function(password,blacklist){return $.inArray(password.toLowerCase(),blacklist)},self.checkLength=function(str,reqLength){return str.length<reqLength?!0:!1},self.getText=function($elems){var text=[];return $.each($elems,function(){text.push($(this).text())}),text},self.getValue=function($field){return $.trim($field.val())},self.getColumnList=function(columnNum,$listItems){var $list=[];return $.each($listItems,function(k,v){return $list.push($(v).find("td").eq(columnNum)),$list}),$list},self.getListValues=function($list){var values=[];return $.each($list,function(k,v){return values.push($.trim($(v).text()).toLowerCase()),values}),values},self.cleanAlpha=function(str,ignoreWords){return ignoreWords=ignoreWords||["the","a"],$.each(ignoreWords,function(){var re=new RegExp("^"+this+"\\s","i");return str=str.replace(re,"")}),str},self.capitalize=function(str){return str.toLowerCase().replace(/^.|\s\S/g,function(a){return a.toUpperCase()})},self.throttle=function(fn,threshold,scope){var last,deferTimer;return threshold=threshold||500,function(){var context=scope||this,now=+new Date,args=arguments;last&&last+threshold>now?(clearTimeout(deferTimer),deferTimer=setTimeout(function(){last=now,fn.apply(context,args)},threshold)):(last=now,fn.apply(context,args))}},self.clearElement=function($el,speed){speed=speed||300,$el.fadeOut(speed,function(){$(this).remove()})},self.createElement=function(tagName,attrs){return attrs=attrs||{},$("<"+tagName+"></"+tagName+">",attrs)},self.toTop=function($content,speed){$content.stop().animate({scrollTop:$content.position().top},speed,"swing")},self.killEvent=function($el,eventType,selector){selector=selector||null,null===selector?$el.on(eventType,function(e){e.stopPropagation()}):$el.on(eventType,selector,function(e){e.stopPropagation()})},self.scrollToView=function($el,speed){var scroll=$("body").scrollTop(),height=$(window).height()-200;speed=speed||300,scroll>height?$el.fadeIn(speed):height>scroll&&$el.fadeOut(speed)},self.toArray=function($items,unique){var arr=[];return unique=unique||!1,$.each($items,function(key,value){return arr.push($(value).text()),unique?$.unique(arr):arr}),arr},self.createArrays=function(obj,list){return $.each(list,function(){obj[this]=[]}),obj},self.concatArrays=function(obj){var arr=[];return $.each(obj,function(){arr=arr.concat(this)}),arr},self.sortValues=function(a,b,dir){return dir=dir||"ascending",self.patterns.alpha.test(a)?b>a?"ascending"===dir?-1:1:a>b?"ascending"===dir?1:-1:a===b?0:void 0:"ascending"===dir?a-b:b-a},self.sortComplexList=function(types,listItems,direction){var that=this,sortLists={};return direction=direction||"ascending",self.createArrays(sortLists,types),$.each(types,function(){var type=this;$.each(listItems,function(){var listItem=this,value=$.trim($(listItem).text());self.dataTypeChecks["is"+self.capitalize(type)].call(that,value)&&sortLists[type].push(listItem)}),$.each(sortLists[type],function(){var value=$(this).text();$(listItems).each(function(k){var listVal=$(this).text();listVal===value&&listItems.splice(k,1)})})}),$.each(sortLists,function(key){self.comparators["sort"+self.capitalize(key)](sortLists[key],direction)}),self.concatArrays(sortLists)},self.comparators={sortDate:function($items,direction){var sort=function(a,b){return self.dataTypeChecks.isDate($.trim($(a).text()))&&self.dataTypeChecks.isDate($.trim($(b).text()))&&(a=new Date(self.patterns.sortMonthDayYear.exec($.trim($(a).text()))),b=new Date(self.patterns.sortMonthDayYear.exec($.trim($(b).text())))),self.sortValues(a,b,direction)};return $items.sort(sort)},sortTime:function($items,direction){var sort=function(a,b){var time1=self.patterns.sortTime.exec($.trim($(a).text()))[0],time2=self.patterns.sortTime.exec($.trim($(b).text()))[0];return self.dataTypeChecks.isTime($.trim($(a).text()))&&self.dataTypeChecks.isTime($.trim($(b).text()))&&(a=new Date("04-22-2014 "+self.parseTime(time1)),b=new Date("04-22-2014 "+self.parseTime(time2))),self.sortValues(a,b,direction)};return $items.sort(sort)},sortAlpha:function($items,direction){var sort=function(a,b){return a=self.cleanAlpha($.trim($(a).text()),["the","a"]).toLowerCase(),b=self.cleanAlpha($.trim($(b).text()),["the","a"]).toLowerCase(),self.sortValues(a,b,direction)};return $items.sort(sort)},sortNumber:function($items,direction){var sort=function(a,b){return a=parseFloat($.trim($(a).text())),b=parseFloat($.trim($(b).text())),self.sortValues(a,b,direction)};return $items.sort(sort)},sortColumnDate:function($listItems,dir,columnNum){var sort=function(a,b){return a=$.trim($(a).find("td").eq(columnNum).text()),b=$.trim($(b).find("td").eq(columnNum).text()),self.dataTypeChecks.isDate(a)&&self.dataTypeChecks.isDate(b)?(a=new Date(self.patterns.monthDayYear.exec(a)),b=new Date(self.patterns.monthDayYear.exec(b)),self.sortValues(a,b,dir)):void 0};return $listItems.sort(sort)},sortColumnTime:function($listItems,dir,columnNum){var sort=function(a,b){return a=$.trim($(a).find("td").eq(columnNum).text()),b=$.trim($(b).find("td").eq(columnNum).text()),self.dataTypeChecks.isTime(a)&&self.dataTypeChecks.isTime(b)?(a=new Date("04-22-2014"+self.parseTime(self.patterns.monthDayYear.exec(a))),b=new Date("04-22-2014"+self.parseTime(self.patterns.monthDayYear.exec(b))),self.sortValues(a,b,dir)):void 0};return $listItems.sort(sort)},sortColumnAlpha:function($listItems,dir,columnNum){var ignoreWords=["a","the"],sort=function(a,b){return a=self.cleanAlpha($.trim($(a).find("td").eq(columnNum).text()),ignoreWords).toLowerCase(),b=self.cleanAlpha($.trim($(b).find("td").eq(columnNum).text()),ignoreWords).toLowerCase(),self.sortValues(a,b,dir)};return $listItems.sort(sort)},sortColumnNumber:function($listItems,dir,columnNum){var sort=function(a,b){return a=parseFloat($.trim($(a).find("td").eq(columnNum).text())),b=parseFloat($.trim($(b).find("td").eq(columnNum).text())),self.sortValues(a,b,dir)};return $listItems.sort(sort)}},self.scrollSpy=function($nav,$content,el,activeClass){var scroll=$("body").scrollTop(),links=$nav.find('a[href^="#"]'),positions=self.findPositions($content,el);$.each(positions,function(index,value){0===scroll?($("a."+activeClass).removeClass(activeClass),links.eq(0).addClass(activeClass)):scroll>value&&($("a."+activeClass).removeClass(activeClass),links.eq(index).addClass(activeClass))})},self.getPosition=function(height,$obj){return height>200?$obj.position().top-$obj.height()/4:$obj.position().top-$obj.height()/2},self.findPositions=function($content,el){var $sections=$content.find(el),positions=[];return $sections.each(function(index){var position,$that=$(this),length=$sections.length;position=0===index?0:index===length-1?self.getPosition($that.height,$that):$that.position().top-$that.height()/4,0>position?positions.push(0):positions.push(position)}),positions},self.parseTime=function(time){var hour=parseInt(self.patterns.hour.exec(time)[1],10),minutes=self.patterns.minute.exec(time)[1],ampm=self.patterns.ampm.exec(time)[1].toLowerCase();return"am"===ampm?(hour=hour.toString(),"12"===hour?hour="0":1===hour.length&&(hour="0"+hour),hour+":"+minutes):"pm"===ampm?hour+12+":"+minutes:void 0},self},window.elr=elrUtilities()}(jQuery);